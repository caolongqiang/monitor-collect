package com.jimu.monitor.collect;

import com.google.common.collect.HashBasedTable;
import com.google.common.collect.ImmutableMap;
import com.google.common.collect.Table;
import com.jimu.monitor.collect.bean.Group;
import com.jimu.monitor.collect.bean.GroupMetric;
import com.jimu.monitor.utils.ApplicationContextHelper;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import java.util.Map;

/**
 * 连了q的vpn之后, 就没法连jimu vpn了.
 * 所以只能把q的数据跑出来之后, 用测试用例模拟了.
 * Created by zhenbao.zhou on 16/5/29.
 */
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {"classpath:applicationContext.xml"})
public class CarbonStorerTest {

    // 妈的, jackson不支持guava 的table结构转成json.   https://github.com/FasterXML/jackson-datatypes-collections/issues/1
    String a = "{\"group\":{\"name\":\"hotel_rt_linkage\",\"department\":\"p2p\",\"domainList\":[{\"host\":\"admin4\",\"url\":\"http://l-rtadmin4.h.cn6.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},{\"host\":\"admin1\",\"url\":\"http://l-rtadmin1.h.cn6.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},{\"host\":\"admin14\",\"url\":\"http://l-rtadmin14.h.cn6.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"}],\"type\":\"HTTP\"},\"packetList\":[{\"domain\":{\"host\":\"admin4\",\"url\":\"http://l-rtadmin4.h.cn6.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},\"status\":\"SUCCESS\",\"duration\":1464534091128,\"timestamp\":0,\"content\":\"\\r\\n\\r\\n\\r\\ndb_fetch_time_Count=2\\nempty_tree_linkage_rpc_time_Count=2\\nTOMCAT_http-8080_maxThread_Value=200\\ndb_fetch_time_Time=0.5\\nJVM_ParNew_Time=19.0\\ntotal_rt_linkage_rpc_time_Time=8.538775510204081\\nmanually_refresh_cache_Time=0.0\\nmanually_refresh_cache_Count=0\\nJVM_ConcurrentMarkSweep_Time=0.0\\nJVM_ParNew_Count=1\\nTREECLUSTER_All_REQ_Count=328\\nlinkage_rpc_with_trees_time_Count=129\\nJVM_Thread_Count=291\\nTREECLUSTER_HASH_RATIO_Value=94.51\\nmemcached_hit_time_Count=85\\nempty_tree_linkage_rpc_time_Time=3.0\\nJVM_ConcurrentMarkSweep_Count=0\\nTOMCAT_http-8080_currentThread_Value=36\\njob_refresh_cache_Count=0\\nlocal_cache_hit_time_Time=0.022727272727272728\\nTOMCAT_http-8080_error_Count=0\\nTOMCAT_http-8080_request_Time=1.0\\nTOMCAT_http-8080_bytesReceived_Count=0\\njsp_cluster_request_count_Count=0\\njob_reload_data_dict_Time=3.0\\nTREECLUSTER_HASH_Count=310\\nTOMCAT_http-8080_currentThreadsBusy_Value=0\\nmemcached_hit_time_Time=1.223529411764706\\nTOMCAT_http-8080_bytesSent_Count=3513\\njob_refresh_cache_Time=0.0\\nlinkage_rpc_with_trees_time_Time=16.147286821705425\\nTOMCAT_http-8080_request_Count=3\\ntotal_rt_linkage_rpc_time_Count=245\\nlocal_cache_hit_time_Count=44\\njob_reload_data_dict_Count=2\\n\",\"rawMeasurements\":{\"db_fetch_time_Count\":2.0,\"empty_tree_linkage_rpc_time_Count\":2.0,\"TOMCAT_http-8080_maxThread_Value\":200.0,\"db_fetch_time_Time\":0.5,\"JVM_ParNew_Time\":19.0,\"total_rt_linkage_rpc_time_Time\":8.538775510204081,\"manually_refresh_cache_Time\":0.0,\"manually_refresh_cache_Count\":0.0,\"JVM_ConcurrentMarkSweep_Time\":0.0,\"JVM_ParNew_Count\":1.0,\"TREECLUSTER_All_REQ_Count\":328.0,\"linkage_rpc_with_trees_time_Count\":129.0,\"JVM_Thread_Count\":291.0,\"TREECLUSTER_HASH_RATIO_Value\":94.51,\"memcached_hit_time_Count\":85.0,\"empty_tree_linkage_rpc_time_Time\":3.0,\"JVM_ConcurrentMarkSweep_Count\":0.0,\"TOMCAT_http-8080_currentThread_Value\":36.0,\"job_refresh_cache_Count\":0.0,\"local_cache_hit_time_Time\":0.022727272727272728,\"TOMCAT_http-8080_error_Count\":0.0,\"TOMCAT_http-8080_request_Time\":1.0,\"TOMCAT_http-8080_bytesReceived_Count\":0.0,\"jsp_cluster_request_count_Count\":0.0,\"job_reload_data_dict_Time\":3.0,\"TREECLUSTER_HASH_Count\":310.0,\"TOMCAT_http-8080_currentThreadsBusy_Value\":0.0,\"memcached_hit_time_Time\":1.223529411764706,\"TOMCAT_http-8080_bytesSent_Count\":3513.0,\"job_refresh_cache_Time\":0.0,\"linkage_rpc_with_trees_time_Time\":16.147286821705425,\"TOMCAT_http-8080_request_Count\":3.0,\"total_rt_linkage_rpc_time_Count\":245.0,\"local_cache_hit_time_Count\":44.0,\"job_reload_data_dict_Count\":2.0}},{\"domain\":{\"host\":\"admin1\",\"url\":\"http://l-rtadmin1.h.cn6.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},\"status\":\"SUCCESS\",\"duration\":1464534091128,\"timestamp\":0,\"content\":\"\",\"rawMeasurements\":{}},{\"domain\":{\"host\":\"admin14\",\"url\":\"http://l-rtadmin14.h.cn6.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},\"status\":\"SUCCESS\",\"duration\":1464534091128,\"timestamp\":0,\"content\":\"\\r\\n\\r\\n\\r\\ndb_fetch_time_Count=2\\nempty_tree_linkage_rpc_time_Count=2\\nTOMCAT_\\\"http-bio-8080\\\"_currentThread_Value=10\\ndb_fetch_time_Time=0.0\\nJVM_ParNew_Time=19.0\\ntotal_rt_linkage_rpc_time_Time=6.690987124463519\\nmanually_refresh_cache_Time=2.0\\nmanually_refresh_cache_Count=1\\nJVM_ConcurrentMarkSweep_Time=0.0\\nJVM_ParNew_Count=1\\nTOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count=3552\\nTREECLUSTER_All_REQ_Count=299\\nlinkage_rpc_with_trees_time_Count=120\\nTOMCAT_\\\"http-bio-8080\\\"_request_Count=3\\nJVM_Thread_Count=266\\nTREECLUSTER_HASH_RATIO_Value=90.64\\nmemcached_hit_time_Count=82\\nTOMCAT_\\\"http-bio-8080\\\"_request_Time=0.6666666666666666\\nempty_tree_linkage_rpc_time_Time=1.5\\nJVM_ConcurrentMarkSweep_Count=0\\njob_refresh_cache_Count=0\\nlocal_cache_hit_time_Time=0.02631578947368421\\nTOMCAT_\\\"http-bio-8080\\\"_bytesReceived_Count=0\\nTOMCAT_\\\"http-bio-8080\\\"_currentThreadsBusy_Value=0\\njob_reload_data_dict_Time=2.5\\nTOMCAT_\\\"http-bio-8080\\\"_maxThread_Value=200\\nTREECLUSTER_HASH_Count=271\\nmemcached_hit_time_Time=0.9024390243902439\\njob_refresh_cache_Time=0.0\\nlinkage_rpc_with_trees_time_Time=12.966666666666667\\nTOMCAT_\\\"http-bio-8080\\\"_error_Count=0\\ntotal_rt_linkage_rpc_time_Count=233\\nlocal_cache_hit_time_Count=38\\njob_reload_data_dict_Count=2\\n\",\"rawMeasurements\":{\"db_fetch_time_Count\":2.0,\"empty_tree_linkage_rpc_time_Count\":2.0,\"TOMCAT_\\\"http-bio-8080\\\"_currentThread_Value\":10.0,\"db_fetch_time_Time\":0.0,\"JVM_ParNew_Time\":19.0,\"total_rt_linkage_rpc_time_Time\":6.690987124463519,\"manually_refresh_cache_Time\":2.0,\"manually_refresh_cache_Count\":1.0,\"JVM_ConcurrentMarkSweep_Time\":0.0,\"JVM_ParNew_Count\":1.0,\"TOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count\":3552.0,\"TREECLUSTER_All_REQ_Count\":299.0,\"linkage_rpc_with_trees_time_Count\":120.0,\"TOMCAT_\\\"http-bio-8080\\\"_request_Count\":3.0,\"JVM_Thread_Count\":266.0,\"TREECLUSTER_HASH_RATIO_Value\":90.64,\"memcached_hit_time_Count\":82.0,\"TOMCAT_\\\"http-bio-8080\\\"_request_Time\":0.6666666666666666,\"empty_tree_linkage_rpc_time_Time\":1.5,\"JVM_ConcurrentMarkSweep_Count\":0.0,\"job_refresh_cache_Count\":0.0,\"local_cache_hit_time_Time\":0.02631578947368421,\"TOMCAT_\\\"http-bio-8080\\\"_bytesReceived_Count\":0.0,\"TOMCAT_\\\"http-bio-8080\\\"_currentThreadsBusy_Value\":0.0,\"job_reload_data_dict_Time\":2.5,\"TOMCAT_\\\"http-bio-8080\\\"_maxThread_Value\":200.0,\"TREECLUSTER_HASH_Count\":271.0,\"memcached_hit_time_Time\":0.9024390243902439,\"job_refresh_cache_Time\":0.0,\"linkage_rpc_with_trees_time_Time\":12.966666666666667,\"TOMCAT_\\\"http-bio-8080\\\"_error_Count\":0.0,\"total_rt_linkage_rpc_time_Count\":233.0,\"local_cache_hit_time_Count\":38.0,\"job_reload_data_dict_Count\":2.0}}],\"groupMeasurements\":{\"empty_tree_linkage_rpc_time_Count\":0.06666666666666667,\"TOMCAT_http-8080_bytesSent_Count\":58.55,\"TOMCAT_http-8080_request_Count\":0.05,\"job_reload_data_dict_Count\":0.06666666666666667,\"JVM_Thread_Count\":9.283333333333333,\"TOMCAT_http-8080_request_Time\":1.0E-6,\"JVM_ParNew_Count\":0.016666666666666666,\"TOMCAT_\\\"http-bio-8080\\\"_currentThread_Value\":10.0,\"memcached_hit_time_Count\":2.783333333333333,\"manually_refresh_cache_Count\":0.016666666666666666,\"TOMCAT_\\\"http-bio-8080\\\"_request_Time\":6.666666666666666E-7,\"TOMCAT_\\\"http-bio-8080\\\"_request_Count\":0.05,\"TOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count\":59.2,\"memcached_hit_time_Time\":1.0629842180774749E-6,\"local_cache_hit_time_Count\":1.3666666666666667,\"linkage_rpc_with_trees_time_Count\":4.15,\"TOMCAT_http-8080_currentThread_Value\":36.0,\"total_rt_linkage_rpc_time_Count\":7.966666666666666,\"TREECLUSTER_HASH_Count\":9.683333333333334,\"db_fetch_time_Count\":0.06666666666666667,\"JVM_ParNew_Time\":1.9E-5,\"linkage_rpc_with_trees_time_Time\":1.4556976744186045E-5,\"empty_tree_linkage_rpc_time_Time\":2.25E-6,\"TREECLUSTER_All_REQ_Count\":10.45,\"TOMCAT_\\\"http-bio-8080\\\"_maxThread_Value\":200.0,\"job_reload_data_dict_Time\":2.75E-6,\"TOMCAT_http-8080_maxThread_Value\":200.0,\"TREECLUSTER_HASH_RATIO_Value\":185.15,\"db_fetch_time_Time\":5.0E-7,\"local_cache_hit_time_Time\":2.4521531100478468E-8,\"manually_refresh_cache_Time\":2.0E-6,\"total_rt_linkage_rpc_time_Time\":7.6148813173338E-6},\"domainMeasurements\":{\"empty\":false}}";
    String b = "{\"group\":{\"name\":\"collect group\",\"department\":\"stock\",\"domainList\":[{\"host\":\"collect7\",\"url\":\"http://l-hpricecollect7.h.cn5.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},{\"host\":\"collect8\",\"url\":\"http://l-hpricecollect8.h.cn5.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"}],\"type\":\"HTTP\"},\"packetList\":[{\"domain\":{\"host\":\"collect7\",\"url\":\"http://l-hpricecollect7.h.cn5.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},\"status\":\"SUCCESS\",\"duration\":1464534150452,\"timestamp\":0,\"content\":\"\\n\\nrebuild_price_collect_room_price_type_name_dynamic_cash_back_Count=9484\\nqconfig_get_Count=30400\\nrebuild_price_handler_qhstats_full_protobuf_Time=0.19144736842105264\\npush_guidePrice_Count=209\\nredisService_hdel_result_0_Count=3468\\nrebuild_price_collect_hotel_price_type_name_nearby_discount_Count=1437\\nThreadPool_rebuild_price_collect_completedTaskCount=108331044\\nrebuild_price_handler_qhstats_full_protobuf_serialize_Count=6079\\nKRYO_INIT_Time=0.0\\nrebuild_price_collect_price_type_name_dynamic_reduce_with_add_price_Count=2570\\nDetailPT_Size_Time=9236.053782894736\\nrebuild_price_collect_price_type_dynamic_reduce_hotel_Count=805\\nrebuild_price_collect_lose_qta_ratio_Value=25.23\\nThreadPool_rebuild_price_collect_currentQueueSize=0\\nguideHotelPriceDetail_redis_hdel_Count=4034\\nrebuild_price_collect_room_price_type_name_dynamic_price_powerfully_Count=179\\nredisService_hdel_result_Count=4034\\nThreadPool_rebuild_price_handler_qhstats_full_taskCount=0\\nrebuild_price_collect_room_price_type_name_dynamic_reduce_with_add_price_Count=1181\\nrebuild_price_collect_hotel_price_type_name_spring_festival_redbag_Count=2015\\nJVM_ParNew_Count=4\\nTOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count=28434\\nrebuild_price_collect_lose_tuan_Count=1253\\nTOMCAT_\\\"http-bio-8080\\\"_request_Count=3\\nrebuild_price_collect_price_type_name_dynamic_reduce_Count=3911\\nqhstats_collect_log_full_protobuf_Count=6079\\nguideHotelPriceDetail_redis_hget_Time=0.2583044124938027\\nrebuild_price_collect_lose_bnb_ratio_Value=18.18\\nJVM_ConcurrentMarkSweep_Count=0\\nrebuild_price_collect_detail_null_Count=0\\nrebuild_price_handler_qhstats_full_protobuf_convert_Count=6080\\nrebuild_price_log_get_detail_Time=2.7963815789473685\\nredisService_hset_Time=0.23923444976076555\\nqconfig_load_Count=0\\nrebuild_price_handler_stats_Time=0.14654605263157894\\nrebuild_price_collect_room_price_type_name_business_user_Count=67\\nrebuild_price_collect_wrapper_ctrip_hotel_Count=1165\\nTOMCAT_\\\"http-bio-8080\\\"_currentThreadsBusy_Value=0\\nrebuild_price_collect_wrapper_elong_Count=64052\\nredisService_hdel_result_1_Count=566\\nTOMCAT_\\\"http-bio-8080\\\"_maxThread_Value=200\\nrebuild_price_collect_room_Count=34528\\nrebuild_price_handler_stats_Count=6080\\nrebuild_price_collect_hotel_price_type_name_dynamic_reduce_Count=805\\nredisService_hset_result_Count=209\\nguideHotelPriceDetail_redis_hdel_Time=0.3073872087258304\\nTOMCAT_\\\"http-bio-8080\\\"_error_Count=0\\nDetailPT_Size_Origin_Count=3917\\nredisService_hdel_slow_Count=0\\nrebuild_price_collect_price_type_name_spring_festival_redbag_Count=9029\\nrebuild_price_collect_wrapper_ota_hotel_Count=2658\\nrebuild_price_collect_room_price_type_name_pay_on_cash_back_Count=0\\nredisService_hdel_Time=0.2553296975706495\\nmemcached_helper_get_Time=2.7879934210526316\\nrebuild_price_collect_terminalbs_room_Count=4306\\npush_guidePriceEntry_Value=1269\\nqmq_listener_price_rebuild_notify_detail_Count=6079\\nrebuild_price_collect_price_type_excess_reduce_hotel_Count=0\\nrebuild_price_event_bus_post_Count=6080\\nTOMCAT_\\\"http-bio-8080\\\"_currentThread_Value=10\\nrebuild_price_collect_lose_bnb_Count=783\\nguideHotelPriceDetail_redis_hget_Count=4034\\npushGuidePrice_exception_Count=0\\nredisService_All_hset_Count=209\\nrebuild_price_collect_wrapper_tuan_hotel_Count=1405\\nrebuild_price_collect_hotel_price_type_name_dynamic_cash_back_Count=2136\\nrebuild_price_collect_price_type_dynamic_cashback_hotel_Count=2136\\nrebuild_price_handler_qhstats_full_protobuf_serialize_Time=0.4178318802434611\\nredisService_hdel_slow_Time=0.0\\nrebuild_price_collect_room_price_type_name_nearby_discount_Count=6857\\nrebuild_price_collect_price_type_name_business_user_Count=67\\nrebuild_price_collect_wrapper_tuan_Count=17330\\nmemcached_helper_get_error_Count=0\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_taskCount=108330692\\nrebuild_price_log_get_detail_Count=6080\\nTOMCAT_\\\"http-bio-8080\\\"_request_Time=0.6666666666666666\\ndiff_guidePrice_save_redis_Value=1269\\nrebuild_price_collect_room_price_type_name_ps_pay_on_cash_back_Count=68\\nredisService_hget2_Time=0.1906296479920674\\nrebuild_price_collect_min_price_elong_Count=5109\\nrebuild_price_collect_hotel_price_type_name_coin_using_without_related_Count=87\\nqhstats_collect_log_full_protobuf_Time=0.04474420134890607\\nrebuild_price_collect_wrapper_qta_hotel_Count=3611\\npushGuidePrice_callBack_Time=64.38277511961722\\nTOMCAT_\\\"http-bio-8080\\\"_bytesReceived_Count=0\\nrebuild_price_collect_price_type_dynamic_cashback_Count=22859\\nrebuild_price_collect_wrapper_qta_Count=165126\\nrebuild_price_collect_hotel_price_type_name_dynamic_reduce_with_add_price_Count=258\\nrebuild_price_collect_hotel_price_type_name_excess_reduce_Count=0\\nrebuild_price_collect_hotel_price_type_name_normal_Count=5097\\nrebuild_price_collect_price_type_name_dynamic_price_powerfully_Count=328\\nqhstats_collect_log_byte_size_full_protobuf_Avg_Value=36336\\nrebuild_price_collect_lose_qta_Count=8712\\nrebuild_price_handler_qhstats_full_protobuf_convert_Time=1.5555921052631578\\nDetailPT_Size_Origin_Time=77471.64947664029\\nredisService_hset_Count=209\\nrebuild_price_collect_price_type_excess_reduce_Count=0\\nredisService_hdel_Count=4034\\nrebuild_price_collect_hotel_price_type_name_pay_on_cash_back_Count=0\\nrebuild_price_collect_price_entry_per_table_Avg_Value=100\\nDETAILPT_DECODE_Count=6080\\nrebuild_price_collect_price_type_name_ps_pay_on_cash_back_Count=71\\nrebuild_price_collect_price_type_nearby_discount_hotel_Count=1437\\nredisService_hget2_Count=4034\\nrebuild_price_collect_price_type_name_coin_using_with_related_Count=19945\\nrebuild_price_collect_price_type_name_excess_reduce_Count=0\\nrebuild_price_collect_room_price_type_name_spring_festival_redbag_Count=9029\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_currentQueueSize=0\\nDETAILPT_DECOMPRESS_Count=3917\\ndiff_guidePrice_redis_is_null_Count=129\\nThreadPool_rebuild_price_collect_taskCount=108331044\\nThreadPool_rebuild_price_handler_qhstats_full_currentQueueSize=0\\nJVM_ConcurrentMarkSweep_Time=0.0\\nJVM_Thread_Count=175\\nrebuild_price_collect_room_per_table_Avg_Value=5\\nrebuild_price_handler_push_guide_price_Time=0.02549342105263158\\nrebuild_price_collect_hotel_price_type_name_dynamic_price_powerfully_Count=116\\nThreadPool_rebuild_price_handler_qhstats_full_completedTaskCount=0\\nrebuild_price_collect_hotel_price_type_name_ps_pay_on_cash_back_Count=13\\nrebuild_price_collect_Count=6080\\nredisService_hget2_slow_Time=0.0\\nrebuild_price_handler_qhstats_full_protobuf_Count=6080\\nrebuild_price_handler_qhstats_full_protobuf_convert_and_log_Count=6079\\nqmq_listener_price_rebuild_notify_listener_Count=6079\\nrebuild_price_collect_price_type_name_normal_Count=486474\\nThreadPool_rebuild_price_collect_poolSize=4\\nrebuild_price_collect_min_price_ctrip_Count=1594\\nrebuild_price_collect_wrapper_ota_Count=115298\\nrebuild_price_collect_room_price_type_name_nearby_discount_prepay_cash_back_Count=5666\\nmemcached_helper_get_Count=6080\\nDETAILPT_DECOMPRESS_Time=0.4393668623946898\\nrebuild_price_collect_terminalbs_Count=34157\\nredisService_hset_slow_Time=0.0\\nqhstats-log-collector-BufferExhaustedException_Count=32\\nrebuild_price_collect_hotel_price_type_name_nearby_discount_prepay_cash_back_Count=1217\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_poolSize=4\\nrebuild_price_collect_price_type_name_dynamic_cash_back_Count=22859\\npushGuidePrice_callBack_success_Count=209\\nredisService_hset_result_0_Count=100\\nrebuild_price_collect_price_type_name_nearby_discount_Count=47431\\nDetailPT_Size_Count=6080\\nredisService_operation_timeout_Count=0\\nrebuild_price_collect_room_price_type_name_coin_using_with_related_Count=11659\\nrebuild_price_collect_price_type_nearby_discount_Count=59933\\nThreadPool_rebuild_price_collect_activeCount=0\\nKRYO_INIT_Count=0\\nrebuild_price_collect_room_price_type_name_excess_reduce_Count=0\\nJVM_ParNew_Time=9.75\\nqconfig_parse_Time=0.0\\nrebuild_price_collect_price_type_name_nearby_discount_prepay_cash_back_Count=12502\\nrebuild_price_collect_price_type_name_coin_using_without_related_Count=141\\nrebuild_price_collect_hotel_price_type_name_coin_using_with_related_Count=2494\\nrebuild_price_collect_wrapper_ctrip_Count=35903\\nrebuild_price_collect_price_entry_Count=605328\\nrebuild_price_collect_room_price_type_name_dynamic_reduce_Count=2531\\npushGuidePrice_callBack_Count=209\\nqconfig_parse_Count=0\\nrebuild_price_collect_wrapper_elong_hotel_Count=2326\\nguideHotelPriceDetail_redis_hset_Time=0.2966507177033493\\nrebuild_price_collect_room_price_type_name_coin_using_without_related_Count=141\\nThreadPool_rebuild_price_handler_qhstats_full_poolSize=0\\nredisService_hset_result_1_Count=109\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_activeCount=1\\nrebuild_price_collect_lose_tuan_ratio_Value=36.11\\nrebuild_price_collect_room_price_type_name_normal_Count=34001\\nrebuild_price_collect_price_type_name_pay_on_cash_back_Count=0\\nredisService_hget2_slow_Count=0\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_completedTaskCount=108330691\\nguideHotelPriceDetail_redis_hset_Count=209\\nrebuild_price_collect_price_type_dynamic_reduce_Count=3911\\nDETAILPT_DECODE_Time=1.865296052631579\\nqmq_listener_price_rebuild_notify_listener_Time=0.11235400559302516\\nrebuild_price_collect_hotel_price_type_name_business_user_Count=15\\nThreadPool_rebuild_price_handler_qhstats_full_activeCount=0\\nrebuild_price_event_bus_post_Time=0.36875\\nmemcached_helper_get_timeout_Count=0\\nrebuild_price_handler_push_guide_price_Count=6080\\nrebuild_price_collect_wrapper_tuan_room_Value=10.05\\nrebuild_price_collect_Time=3.1807565789473684\\nredisService_hset_slow_Count=0\\nrebuild_price_collect_wrapper_tuan_room_Count=3470\\nredisService_All_hget2_Count=4034\\nJVM_freeMem_Size=2948\\n\",\"rawMeasurements\":{\"rebuild_price_collect_room_price_type_name_dynamic_cash_back_Count\":9484.0,\"qconfig_get_Count\":30400.0,\"rebuild_price_handler_qhstats_full_protobuf_Time\":0.19144736842105264,\"push_guidePrice_Count\":209.0,\"redisService_hdel_result_0_Count\":3468.0,\"rebuild_price_collect_hotel_price_type_name_nearby_discount_Count\":1437.0,\"ThreadPool_rebuild_price_collect_completedTaskCount\":1.08331044E8,\"rebuild_price_handler_qhstats_full_protobuf_serialize_Count\":6079.0,\"KRYO_INIT_Time\":0.0,\"rebuild_price_collect_price_type_name_dynamic_reduce_with_add_price_Count\":2570.0,\"DetailPT_Size_Time\":9236.053782894736,\"rebuild_price_collect_price_type_dynamic_reduce_hotel_Count\":805.0,\"rebuild_price_collect_lose_qta_ratio_Value\":25.23,\"ThreadPool_rebuild_price_collect_currentQueueSize\":0.0,\"guideHotelPriceDetail_redis_hdel_Count\":4034.0,\"rebuild_price_collect_room_price_type_name_dynamic_price_powerfully_Count\":179.0,\"redisService_hdel_result_Count\":4034.0,\"ThreadPool_rebuild_price_handler_qhstats_full_taskCount\":0.0,\"rebuild_price_collect_room_price_type_name_dynamic_reduce_with_add_price_Count\":1181.0,\"rebuild_price_collect_hotel_price_type_name_spring_festival_redbag_Count\":2015.0,\"JVM_ParNew_Count\":4.0,\"TOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count\":28434.0,\"rebuild_price_collect_lose_tuan_Count\":1253.0,\"TOMCAT_\\\"http-bio-8080\\\"_request_Count\":3.0,\"rebuild_price_collect_price_type_name_dynamic_reduce_Count\":3911.0,\"qhstats_collect_log_full_protobuf_Count\":6079.0,\"guideHotelPriceDetail_redis_hget_Time\":0.2583044124938027,\"rebuild_price_collect_lose_bnb_ratio_Value\":18.18,\"JVM_ConcurrentMarkSweep_Count\":0.0,\"rebuild_price_collect_detail_null_Count\":0.0,\"rebuild_price_handler_qhstats_full_protobuf_convert_Count\":6080.0,\"rebuild_price_log_get_detail_Time\":2.7963815789473685,\"redisService_hset_Time\":0.23923444976076555,\"qconfig_load_Count\":0.0,\"rebuild_price_handler_stats_Time\":0.14654605263157894,\"rebuild_price_collect_room_price_type_name_business_user_Count\":67.0,\"rebuild_price_collect_wrapper_ctrip_hotel_Count\":1165.0,\"TOMCAT_\\\"http-bio-8080\\\"_currentThreadsBusy_Value\":0.0,\"rebuild_price_collect_wrapper_elong_Count\":64052.0,\"redisService_hdel_result_1_Count\":566.0,\"TOMCAT_\\\"http-bio-8080\\\"_maxThread_Value\":200.0,\"rebuild_price_collect_room_Count\":34528.0,\"rebuild_price_handler_stats_Count\":6080.0,\"rebuild_price_collect_hotel_price_type_name_dynamic_reduce_Count\":805.0,\"redisService_hset_result_Count\":209.0,\"guideHotelPriceDetail_redis_hdel_Time\":0.3073872087258304,\"TOMCAT_\\\"http-bio-8080\\\"_error_Count\":0.0,\"DetailPT_Size_Origin_Count\":3917.0,\"redisService_hdel_slow_Count\":0.0,\"rebuild_price_collect_price_type_name_spring_festival_redbag_Count\":9029.0,\"rebuild_price_collect_wrapper_ota_hotel_Count\":2658.0,\"rebuild_price_collect_room_price_type_name_pay_on_cash_back_Count\":0.0,\"redisService_hdel_Time\":0.2553296975706495,\"memcached_helper_get_Time\":2.7879934210526316,\"rebuild_price_collect_terminalbs_room_Count\":4306.0,\"push_guidePriceEntry_Value\":1269.0,\"qmq_listener_price_rebuild_notify_detail_Count\":6079.0,\"rebuild_price_collect_price_type_excess_reduce_hotel_Count\":0.0,\"rebuild_price_event_bus_post_Count\":6080.0,\"TOMCAT_\\\"http-bio-8080\\\"_currentThread_Value\":10.0,\"rebuild_price_collect_lose_bnb_Count\":783.0,\"guideHotelPriceDetail_redis_hget_Count\":4034.0,\"pushGuidePrice_exception_Count\":0.0,\"redisService_All_hset_Count\":209.0,\"rebuild_price_collect_wrapper_tuan_hotel_Count\":1405.0,\"rebuild_price_collect_hotel_price_type_name_dynamic_cash_back_Count\":2136.0,\"rebuild_price_collect_price_type_dynamic_cashback_hotel_Count\":2136.0,\"rebuild_price_handler_qhstats_full_protobuf_serialize_Time\":0.4178318802434611,\"redisService_hdel_slow_Time\":0.0,\"rebuild_price_collect_room_price_type_name_nearby_discount_Count\":6857.0,\"rebuild_price_collect_price_type_name_business_user_Count\":67.0,\"rebuild_price_collect_wrapper_tuan_Count\":17330.0,\"memcached_helper_get_error_Count\":0.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_taskCount\":1.08330692E8,\"rebuild_price_log_get_detail_Count\":6080.0,\"TOMCAT_\\\"http-bio-8080\\\"_request_Time\":0.6666666666666666,\"diff_guidePrice_save_redis_Value\":1269.0,\"rebuild_price_collect_room_price_type_name_ps_pay_on_cash_back_Count\":68.0,\"redisService_hget2_Time\":0.1906296479920674,\"rebuild_price_collect_min_price_elong_Count\":5109.0,\"rebuild_price_collect_hotel_price_type_name_coin_using_without_related_Count\":87.0,\"qhstats_collect_log_full_protobuf_Time\":0.04474420134890607,\"rebuild_price_collect_wrapper_qta_hotel_Count\":3611.0,\"pushGuidePrice_callBack_Time\":64.38277511961722,\"TOMCAT_\\\"http-bio-8080\\\"_bytesReceived_Count\":0.0,\"rebuild_price_collect_price_type_dynamic_cashback_Count\":22859.0,\"rebuild_price_collect_wrapper_qta_Count\":165126.0,\"rebuild_price_collect_hotel_price_type_name_dynamic_reduce_with_add_price_Count\":258.0,\"rebuild_price_collect_hotel_price_type_name_excess_reduce_Count\":0.0,\"rebuild_price_collect_hotel_price_type_name_normal_Count\":5097.0,\"rebuild_price_collect_price_type_name_dynamic_price_powerfully_Count\":328.0,\"qhstats_collect_log_byte_size_full_protobuf_Avg_Value\":36336.0,\"rebuild_price_collect_lose_qta_Count\":8712.0,\"rebuild_price_handler_qhstats_full_protobuf_convert_Time\":1.5555921052631578,\"DetailPT_Size_Origin_Time\":77471.64947664029,\"redisService_hset_Count\":209.0,\"rebuild_price_collect_price_type_excess_reduce_Count\":0.0,\"redisService_hdel_Count\":4034.0,\"rebuild_price_collect_hotel_price_type_name_pay_on_cash_back_Count\":0.0,\"rebuild_price_collect_price_entry_per_table_Avg_Value\":100.0,\"DETAILPT_DECODE_Count\":6080.0,\"rebuild_price_collect_price_type_name_ps_pay_on_cash_back_Count\":71.0,\"rebuild_price_collect_price_type_nearby_discount_hotel_Count\":1437.0,\"redisService_hget2_Count\":4034.0,\"rebuild_price_collect_price_type_name_coin_using_with_related_Count\":19945.0,\"rebuild_price_collect_price_type_name_excess_reduce_Count\":0.0,\"rebuild_price_collect_room_price_type_name_spring_festival_redbag_Count\":9029.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_currentQueueSize\":0.0,\"DETAILPT_DECOMPRESS_Count\":3917.0,\"diff_guidePrice_redis_is_null_Count\":129.0,\"ThreadPool_rebuild_price_collect_taskCount\":1.08331044E8,\"ThreadPool_rebuild_price_handler_qhstats_full_currentQueueSize\":0.0,\"JVM_ConcurrentMarkSweep_Time\":0.0,\"JVM_Thread_Count\":175.0,\"rebuild_price_collect_room_per_table_Avg_Value\":5.0,\"rebuild_price_handler_push_guide_price_Time\":0.02549342105263158,\"rebuild_price_collect_hotel_price_type_name_dynamic_price_powerfully_Count\":116.0,\"ThreadPool_rebuild_price_handler_qhstats_full_completedTaskCount\":0.0,\"rebuild_price_collect_hotel_price_type_name_ps_pay_on_cash_back_Count\":13.0,\"rebuild_price_collect_Count\":6080.0,\"redisService_hget2_slow_Time\":0.0,\"rebuild_price_handler_qhstats_full_protobuf_Count\":6080.0,\"rebuild_price_handler_qhstats_full_protobuf_convert_and_log_Count\":6079.0,\"qmq_listener_price_rebuild_notify_listener_Count\":6079.0,\"rebuild_price_collect_price_type_name_normal_Count\":486474.0,\"ThreadPool_rebuild_price_collect_poolSize\":4.0,\"rebuild_price_collect_min_price_ctrip_Count\":1594.0,\"rebuild_price_collect_wrapper_ota_Count\":115298.0,\"rebuild_price_collect_room_price_type_name_nearby_discount_prepay_cash_back_Count\":5666.0,\"memcached_helper_get_Count\":6080.0,\"DETAILPT_DECOMPRESS_Time\":0.4393668623946898,\"rebuild_price_collect_terminalbs_Count\":34157.0,\"redisService_hset_slow_Time\":0.0,\"qhstats-log-collector-BufferExhaustedException_Count\":32.0,\"rebuild_price_collect_hotel_price_type_name_nearby_discount_prepay_cash_back_Count\":1217.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_poolSize\":4.0,\"rebuild_price_collect_price_type_name_dynamic_cash_back_Count\":22859.0,\"pushGuidePrice_callBack_success_Count\":209.0,\"redisService_hset_result_0_Count\":100.0,\"rebuild_price_collect_price_type_name_nearby_discount_Count\":47431.0,\"DetailPT_Size_Count\":6080.0,\"redisService_operation_timeout_Count\":0.0,\"rebuild_price_collect_room_price_type_name_coin_using_with_related_Count\":11659.0,\"rebuild_price_collect_price_type_nearby_discount_Count\":59933.0,\"ThreadPool_rebuild_price_collect_activeCount\":0.0,\"KRYO_INIT_Count\":0.0,\"rebuild_price_collect_room_price_type_name_excess_reduce_Count\":0.0,\"JVM_ParNew_Time\":9.75,\"qconfig_parse_Time\":0.0,\"rebuild_price_collect_price_type_name_nearby_discount_prepay_cash_back_Count\":12502.0,\"rebuild_price_collect_price_type_name_coin_using_without_related_Count\":141.0,\"rebuild_price_collect_hotel_price_type_name_coin_using_with_related_Count\":2494.0,\"rebuild_price_collect_wrapper_ctrip_Count\":35903.0,\"rebuild_price_collect_price_entry_Count\":605328.0,\"rebuild_price_collect_room_price_type_name_dynamic_reduce_Count\":2531.0,\"pushGuidePrice_callBack_Count\":209.0,\"qconfig_parse_Count\":0.0,\"rebuild_price_collect_wrapper_elong_hotel_Count\":2326.0,\"guideHotelPriceDetail_redis_hset_Time\":0.2966507177033493,\"rebuild_price_collect_room_price_type_name_coin_using_without_related_Count\":141.0,\"ThreadPool_rebuild_price_handler_qhstats_full_poolSize\":0.0,\"redisService_hset_result_1_Count\":109.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_activeCount\":1.0,\"rebuild_price_collect_lose_tuan_ratio_Value\":36.11,\"rebuild_price_collect_room_price_type_name_normal_Count\":34001.0,\"rebuild_price_collect_price_type_name_pay_on_cash_back_Count\":0.0,\"redisService_hget2_slow_Count\":0.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_completedTaskCount\":1.08330691E8,\"guideHotelPriceDetail_redis_hset_Count\":209.0,\"rebuild_price_collect_price_type_dynamic_reduce_Count\":3911.0,\"DETAILPT_DECODE_Time\":1.865296052631579,\"qmq_listener_price_rebuild_notify_listener_Time\":0.11235400559302516,\"rebuild_price_collect_hotel_price_type_name_business_user_Count\":15.0,\"ThreadPool_rebuild_price_handler_qhstats_full_activeCount\":0.0,\"rebuild_price_event_bus_post_Time\":0.36875,\"memcached_helper_get_timeout_Count\":0.0,\"rebuild_price_handler_push_guide_price_Count\":6080.0,\"rebuild_price_collect_wrapper_tuan_room_Value\":10.05,\"rebuild_price_collect_Time\":3.1807565789473684,\"redisService_hset_slow_Count\":0.0,\"rebuild_price_collect_wrapper_tuan_room_Count\":3470.0,\"redisService_All_hget2_Count\":4034.0,\"JVM_freeMem_Size\":2948.0}},{\"domain\":{\"host\":\"collect8\",\"url\":\"http://l-hpricecollect8.h.cn5.qunar.com:8080/qmonitor.jsp\",\"type\":\"HTTP\"},\"status\":\"SUCCESS\",\"duration\":1464534150455,\"timestamp\":0,\"content\":\"\\n\\nrebuild_price_collect_room_price_type_name_dynamic_cash_back_Count=9075\\nqconfig_get_Count=29790\\nrebuild_price_handler_qhstats_full_protobuf_Time=0.21920107418596846\\npush_guidePrice_Count=221\\nredisService_hdel_result_0_Count=3478\\nrebuild_price_collect_hotel_price_type_name_nearby_discount_Count=1344\\nThreadPool_rebuild_price_collect_completedTaskCount=108330784\\nrebuild_price_handler_qhstats_full_protobuf_serialize_Count=5958\\nKRYO_INIT_Time=0.0\\nrebuild_price_collect_price_type_name_dynamic_reduce_with_add_price_Count=2594\\nDetailPT_Size_Time=9372.459718026183\\nrebuild_price_collect_price_type_dynamic_reduce_hotel_Count=797\\nrebuild_price_collect_lose_qta_ratio_Value=24.98\\nThreadPool_rebuild_price_collect_currentQueueSize=0\\nguideHotelPriceDetail_redis_hdel_Count=4074\\nrebuild_price_collect_room_price_type_name_dynamic_price_powerfully_Count=160\\nredisService_hdel_result_Count=4074\\nThreadPool_rebuild_price_handler_qhstats_full_taskCount=0\\nrebuild_price_collect_room_price_type_name_dynamic_reduce_with_add_price_Count=1198\\nrebuild_price_collect_hotel_price_type_name_spring_festival_redbag_Count=1981\\nJVM_ParNew_Count=5\\nTOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count=28389\\nrebuild_price_collect_lose_tuan_Count=1220\\nTOMCAT_\\\"http-bio-8080\\\"_request_Count=3\\nrebuild_price_collect_price_type_name_dynamic_reduce_Count=3778\\nqhstats_collect_log_full_protobuf_Count=5958\\nguideHotelPriceDetail_redis_hget_Time=0.2545409916543937\\nrebuild_price_collect_lose_bnb_ratio_Value=16.09\\nJVM_ConcurrentMarkSweep_Count=0\\nrebuild_price_collect_detail_null_Count=0\\nrebuild_price_handler_qhstats_full_protobuf_convert_Count=5958\\nrebuild_price_log_get_detail_Time=3.1920107418596846\\nredisService_hset_Time=0.24434389140271492\\nqconfig_load_Count=0\\nrebuild_price_handler_stats_Time=0.17338032896945282\\nrebuild_price_collect_room_price_type_name_business_user_Count=130\\nrebuild_price_collect_wrapper_ctrip_hotel_Count=1199\\nTOMCAT_\\\"http-bio-8080\\\"_currentThreadsBusy_Value=0\\nrebuild_price_collect_wrapper_elong_Count=63355\\nredisService_hdel_result_1_Count=596\\nTOMCAT_\\\"http-bio-8080\\\"_maxThread_Value=200\\nrebuild_price_collect_room_Count=33201\\nrebuild_price_handler_stats_Count=5958\\nrebuild_price_collect_hotel_price_type_name_dynamic_reduce_Count=797\\nredisService_hset_result_Count=221\\nguideHotelPriceDetail_redis_hdel_Time=0.28939617083946984\\nTOMCAT_\\\"http-bio-8080\\\"_error_Count=0\\nDetailPT_Size_Origin_Count=3793\\nredisService_hdel_slow_Count=0\\nrebuild_price_collect_price_type_name_spring_festival_redbag_Count=8652\\nrebuild_price_collect_wrapper_ota_hotel_Count=2599\\nrebuild_price_collect_room_price_type_name_pay_on_cash_back_Count=0\\nredisService_hdel_Time=0.2422680412371134\\nmemcached_helper_get_Time=3.1826116146357837\\nrebuild_price_collect_terminalbs_room_Count=4225\\npush_guidePriceEntry_Value=1268\\nqmq_listener_price_rebuild_notify_detail_Count=5958\\nrebuild_price_collect_price_type_excess_reduce_hotel_Count=0\\nrebuild_price_event_bus_post_Count=5958\\nTOMCAT_\\\"http-bio-8080\\\"_currentThread_Value=10\\nrebuild_price_collect_lose_bnb_Count=680\\nguideHotelPriceDetail_redis_hget_Count=4074\\npushGuidePrice_exception_Count=0\\nredisService_All_hset_Count=221\\nrebuild_price_collect_wrapper_tuan_hotel_Count=1376\\nrebuild_price_collect_hotel_price_type_name_dynamic_cash_back_Count=2108\\nrebuild_price_collect_price_type_dynamic_cashback_hotel_Count=2108\\nrebuild_price_handler_qhstats_full_protobuf_serialize_Time=0.49295065458207454\\nredisService_hdel_slow_Time=0.0\\nrebuild_price_collect_room_price_type_name_nearby_discount_Count=6452\\nrebuild_price_collect_price_type_name_business_user_Count=130\\nrebuild_price_collect_wrapper_tuan_Count=16582\\nmemcached_helper_get_error_Count=0\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_taskCount=108330470\\nrebuild_price_log_get_detail_Count=5958\\nTOMCAT_\\\"http-bio-8080\\\"_request_Time=1.0\\ndiff_guidePrice_save_redis_Value=1268\\nrebuild_price_collect_room_price_type_name_ps_pay_on_cash_back_Count=103\\nredisService_hget2_Time=0.19145802650957292\\nrebuild_price_collect_min_price_elong_Count=4891\\nrebuild_price_collect_hotel_price_type_name_coin_using_without_related_Count=74\\nqhstats_collect_log_full_protobuf_Time=0.03910708291372944\\nrebuild_price_collect_wrapper_qta_hotel_Count=3471\\npushGuidePrice_callBack_Time=69.23529411764706\\nTOMCAT_\\\"http-bio-8080\\\"_bytesReceived_Count=0\\nrebuild_price_collect_price_type_dynamic_cashback_Count=21750\\nrebuild_price_collect_wrapper_qta_Count=154887\\nrebuild_price_collect_hotel_price_type_name_dynamic_reduce_with_add_price_Count=265\\nrebuild_price_collect_hotel_price_type_name_excess_reduce_Count=0\\nrebuild_price_collect_hotel_price_type_name_normal_Count=4948\\nrebuild_price_collect_price_type_name_dynamic_price_powerfully_Count=283\\nqhstats_collect_log_byte_size_full_protobuf_Avg_Value=37084\\nrebuild_price_collect_lose_qta_Count=8293\\nrebuild_price_handler_qhstats_full_protobuf_convert_Time=1.468949311849614\\nDetailPT_Size_Origin_Time=79991.50725019773\\nredisService_hset_Count=221\\nrebuild_price_collect_price_type_excess_reduce_Count=0\\nredisService_hdel_Count=4074\\nrebuild_price_collect_hotel_price_type_name_pay_on_cash_back_Count=0\\nrebuild_price_collect_price_entry_per_table_Avg_Value=101\\nDETAILPT_DECODE_Count=5958\\nrebuild_price_collect_price_type_name_ps_pay_on_cash_back_Count=119\\nrebuild_price_collect_price_type_nearby_discount_hotel_Count=1344\\nredisService_hget2_Count=4074\\nrebuild_price_collect_price_type_name_coin_using_with_related_Count=19430\\nrebuild_price_collect_price_type_name_excess_reduce_Count=0\\nrebuild_price_collect_room_price_type_name_spring_festival_redbag_Count=8651\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_currentQueueSize=0\\nDETAILPT_DECOMPRESS_Count=3793\\ndiff_guidePrice_redis_is_null_Count=128\\nThreadPool_rebuild_price_collect_taskCount=108330784\\nThreadPool_rebuild_price_handler_qhstats_full_currentQueueSize=0\\nJVM_ConcurrentMarkSweep_Time=0.0\\nJVM_Thread_Count=175\\nrebuild_price_collect_room_per_table_Avg_Value=5\\nrebuild_price_handler_push_guide_price_Time=0.019469620678079894\\nrebuild_price_collect_hotel_price_type_name_dynamic_price_powerfully_Count=106\\nThreadPool_rebuild_price_handler_qhstats_full_completedTaskCount=0\\nrebuild_price_collect_hotel_price_type_name_ps_pay_on_cash_back_Count=19\\nrebuild_price_collect_Count=5958\\nredisService_hget2_slow_Time=0.0\\nrebuild_price_handler_qhstats_full_protobuf_Count=5958\\nrebuild_price_handler_qhstats_full_protobuf_convert_and_log_Count=5957\\nqmq_listener_price_rebuild_notify_listener_Count=5958\\nrebuild_price_collect_price_type_name_normal_Count=493306\\nThreadPool_rebuild_price_collect_poolSize=4\\nrebuild_price_collect_min_price_ctrip_Count=1705\\nrebuild_price_collect_wrapper_ota_Count=118379\\nrebuild_price_collect_room_price_type_name_nearby_discount_prepay_cash_back_Count=5363\\nmemcached_helper_get_Count=5958\\nDETAILPT_DECOMPRESS_Time=0.4476667545478513\\nrebuild_price_collect_terminalbs_Count=32553\\nredisService_hset_slow_Time=0.0\\nqhstats-log-collector-BufferExhaustedException_Count=30\\nrebuild_price_collect_hotel_price_type_name_nearby_discount_prepay_cash_back_Count=1127\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_poolSize=4\\nrebuild_price_collect_price_type_name_dynamic_cash_back_Count=21750\\npushGuidePrice_callBack_success_Count=221\\nredisService_hset_result_0_Count=112\\nrebuild_price_collect_price_type_name_nearby_discount_Count=42831\\nDetailPT_Size_Count=5958\\nredisService_operation_timeout_Count=0\\nrebuild_price_collect_room_price_type_name_coin_using_with_related_Count=11391\\nrebuild_price_collect_price_type_nearby_discount_Count=54125\\nThreadPool_rebuild_price_collect_activeCount=0\\nKRYO_INIT_Count=0\\nrebuild_price_collect_room_price_type_name_excess_reduce_Count=0\\nJVM_ParNew_Time=12.6\\nqconfig_parse_Time=0.0\\nrebuild_price_collect_price_type_name_nearby_discount_prepay_cash_back_Count=11294\\nrebuild_price_collect_price_type_name_coin_using_without_related_Count=121\\nrebuild_price_collect_hotel_price_type_name_coin_using_with_related_Count=2440\\nrebuild_price_collect_wrapper_ctrip_Count=39287\\nrebuild_price_collect_price_entry_Count=604288\\nrebuild_price_collect_room_price_type_name_dynamic_reduce_Count=2424\\npushGuidePrice_callBack_Count=221\\nqconfig_parse_Count=0\\nrebuild_price_collect_wrapper_elong_hotel_Count=2252\\nguideHotelPriceDetail_redis_hset_Time=0.3257918552036199\\nrebuild_price_collect_room_price_type_name_coin_using_without_related_Count=121\\nThreadPool_rebuild_price_handler_qhstats_full_poolSize=0\\nredisService_hset_result_1_Count=109\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_activeCount=0\\nrebuild_price_collect_lose_tuan_ratio_Value=36.42\\nrebuild_price_collect_room_price_type_name_normal_Count=32674\\nrebuild_price_collect_price_type_name_pay_on_cash_back_Count=0\\nredisService_hget2_slow_Count=0\\nThreadPool_rebuild_price_handler_qhstats_full_protobuf_completedTaskCount=108330470\\nguideHotelPriceDetail_redis_hset_Count=221\\nrebuild_price_collect_price_type_dynamic_reduce_Count=3778\\nDETAILPT_DECODE_Time=2.3220879489761663\\nqmq_listener_price_rebuild_notify_listener_Time=0.10137630077207116\\nrebuild_price_collect_hotel_price_type_name_business_user_Count=29\\nThreadPool_rebuild_price_handler_qhstats_full_activeCount=0\\nrebuild_price_event_bus_post_Time=0.41658274588788186\\nmemcached_helper_get_timeout_Count=0\\nrebuild_price_handler_push_guide_price_Count=5958\\nrebuild_price_collect_wrapper_tuan_room_Value=10.09\\nrebuild_price_collect_Time=3.623195703256126\\nredisService_hset_slow_Count=0\\nrebuild_price_collect_wrapper_tuan_room_Count=3350\\nredisService_All_hget2_Count=4074\\nJVM_freeMem_Size=2675\\n\",\"rawMeasurements\":{\"rebuild_price_collect_room_price_type_name_dynamic_cash_back_Count\":9075.0,\"qconfig_get_Count\":29790.0,\"rebuild_price_handler_qhstats_full_protobuf_Time\":0.21920107418596846,\"push_guidePrice_Count\":221.0,\"redisService_hdel_result_0_Count\":3478.0,\"rebuild_price_collect_hotel_price_type_name_nearby_discount_Count\":1344.0,\"ThreadPool_rebuild_price_collect_completedTaskCount\":1.08330784E8,\"rebuild_price_handler_qhstats_full_protobuf_serialize_Count\":5958.0,\"KRYO_INIT_Time\":0.0,\"rebuild_price_collect_price_type_name_dynamic_reduce_with_add_price_Count\":2594.0,\"DetailPT_Size_Time\":9372.459718026183,\"rebuild_price_collect_price_type_dynamic_reduce_hotel_Count\":797.0,\"rebuild_price_collect_lose_qta_ratio_Value\":24.98,\"ThreadPool_rebuild_price_collect_currentQueueSize\":0.0,\"guideHotelPriceDetail_redis_hdel_Count\":4074.0,\"rebuild_price_collect_room_price_type_name_dynamic_price_powerfully_Count\":160.0,\"redisService_hdel_result_Count\":4074.0,\"ThreadPool_rebuild_price_handler_qhstats_full_taskCount\":0.0,\"rebuild_price_collect_room_price_type_name_dynamic_reduce_with_add_price_Count\":1198.0,\"rebuild_price_collect_hotel_price_type_name_spring_festival_redbag_Count\":1981.0,\"JVM_ParNew_Count\":5.0,\"TOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count\":28389.0,\"rebuild_price_collect_lose_tuan_Count\":1220.0,\"TOMCAT_\\\"http-bio-8080\\\"_request_Count\":3.0,\"rebuild_price_collect_price_type_name_dynamic_reduce_Count\":3778.0,\"qhstats_collect_log_full_protobuf_Count\":5958.0,\"guideHotelPriceDetail_redis_hget_Time\":0.2545409916543937,\"rebuild_price_collect_lose_bnb_ratio_Value\":16.09,\"JVM_ConcurrentMarkSweep_Count\":0.0,\"rebuild_price_collect_detail_null_Count\":0.0,\"rebuild_price_handler_qhstats_full_protobuf_convert_Count\":5958.0,\"rebuild_price_log_get_detail_Time\":3.1920107418596846,\"redisService_hset_Time\":0.24434389140271492,\"qconfig_load_Count\":0.0,\"rebuild_price_handler_stats_Time\":0.17338032896945282,\"rebuild_price_collect_room_price_type_name_business_user_Count\":130.0,\"rebuild_price_collect_wrapper_ctrip_hotel_Count\":1199.0,\"TOMCAT_\\\"http-bio-8080\\\"_currentThreadsBusy_Value\":0.0,\"rebuild_price_collect_wrapper_elong_Count\":63355.0,\"redisService_hdel_result_1_Count\":596.0,\"TOMCAT_\\\"http-bio-8080\\\"_maxThread_Value\":200.0,\"rebuild_price_collect_room_Count\":33201.0,\"rebuild_price_handler_stats_Count\":5958.0,\"rebuild_price_collect_hotel_price_type_name_dynamic_reduce_Count\":797.0,\"redisService_hset_result_Count\":221.0,\"guideHotelPriceDetail_redis_hdel_Time\":0.28939617083946984,\"TOMCAT_\\\"http-bio-8080\\\"_error_Count\":0.0,\"DetailPT_Size_Origin_Count\":3793.0,\"redisService_hdel_slow_Count\":0.0,\"rebuild_price_collect_price_type_name_spring_festival_redbag_Count\":8652.0,\"rebuild_price_collect_wrapper_ota_hotel_Count\":2599.0,\"rebuild_price_collect_room_price_type_name_pay_on_cash_back_Count\":0.0,\"redisService_hdel_Time\":0.2422680412371134,\"memcached_helper_get_Time\":3.1826116146357837,\"rebuild_price_collect_terminalbs_room_Count\":4225.0,\"push_guidePriceEntry_Value\":1268.0,\"qmq_listener_price_rebuild_notify_detail_Count\":5958.0,\"rebuild_price_collect_price_type_excess_reduce_hotel_Count\":0.0,\"rebuild_price_event_bus_post_Count\":5958.0,\"TOMCAT_\\\"http-bio-8080\\\"_currentThread_Value\":10.0,\"rebuild_price_collect_lose_bnb_Count\":680.0,\"guideHotelPriceDetail_redis_hget_Count\":4074.0,\"pushGuidePrice_exception_Count\":0.0,\"redisService_All_hset_Count\":221.0,\"rebuild_price_collect_wrapper_tuan_hotel_Count\":1376.0,\"rebuild_price_collect_hotel_price_type_name_dynamic_cash_back_Count\":2108.0,\"rebuild_price_collect_price_type_dynamic_cashback_hotel_Count\":2108.0,\"rebuild_price_handler_qhstats_full_protobuf_serialize_Time\":0.49295065458207454,\"redisService_hdel_slow_Time\":0.0,\"rebuild_price_collect_room_price_type_name_nearby_discount_Count\":6452.0,\"rebuild_price_collect_price_type_name_business_user_Count\":130.0,\"rebuild_price_collect_wrapper_tuan_Count\":16582.0,\"memcached_helper_get_error_Count\":0.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_taskCount\":1.0833047E8,\"rebuild_price_log_get_detail_Count\":5958.0,\"TOMCAT_\\\"http-bio-8080\\\"_request_Time\":1.0,\"diff_guidePrice_save_redis_Value\":1268.0,\"rebuild_price_collect_room_price_type_name_ps_pay_on_cash_back_Count\":103.0,\"redisService_hget2_Time\":0.19145802650957292,\"rebuild_price_collect_min_price_elong_Count\":4891.0,\"rebuild_price_collect_hotel_price_type_name_coin_using_without_related_Count\":74.0,\"qhstats_collect_log_full_protobuf_Time\":0.03910708291372944,\"rebuild_price_collect_wrapper_qta_hotel_Count\":3471.0,\"pushGuidePrice_callBack_Time\":69.23529411764706,\"TOMCAT_\\\"http-bio-8080\\\"_bytesReceived_Count\":0.0,\"rebuild_price_collect_price_type_dynamic_cashback_Count\":21750.0,\"rebuild_price_collect_wrapper_qta_Count\":154887.0,\"rebuild_price_collect_hotel_price_type_name_dynamic_reduce_with_add_price_Count\":265.0,\"rebuild_price_collect_hotel_price_type_name_excess_reduce_Count\":0.0,\"rebuild_price_collect_hotel_price_type_name_normal_Count\":4948.0,\"rebuild_price_collect_price_type_name_dynamic_price_powerfully_Count\":283.0,\"qhstats_collect_log_byte_size_full_protobuf_Avg_Value\":37084.0,\"rebuild_price_collect_lose_qta_Count\":8293.0,\"rebuild_price_handler_qhstats_full_protobuf_convert_Time\":1.468949311849614,\"DetailPT_Size_Origin_Time\":79991.50725019773,\"redisService_hset_Count\":221.0,\"rebuild_price_collect_price_type_excess_reduce_Count\":0.0,\"redisService_hdel_Count\":4074.0,\"rebuild_price_collect_hotel_price_type_name_pay_on_cash_back_Count\":0.0,\"rebuild_price_collect_price_entry_per_table_Avg_Value\":101.0,\"DETAILPT_DECODE_Count\":5958.0,\"rebuild_price_collect_price_type_name_ps_pay_on_cash_back_Count\":119.0,\"rebuild_price_collect_price_type_nearby_discount_hotel_Count\":1344.0,\"redisService_hget2_Count\":4074.0,\"rebuild_price_collect_price_type_name_coin_using_with_related_Count\":19430.0,\"rebuild_price_collect_price_type_name_excess_reduce_Count\":0.0,\"rebuild_price_collect_room_price_type_name_spring_festival_redbag_Count\":8651.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_currentQueueSize\":0.0,\"DETAILPT_DECOMPRESS_Count\":3793.0,\"diff_guidePrice_redis_is_null_Count\":128.0,\"ThreadPool_rebuild_price_collect_taskCount\":1.08330784E8,\"ThreadPool_rebuild_price_handler_qhstats_full_currentQueueSize\":0.0,\"JVM_ConcurrentMarkSweep_Time\":0.0,\"JVM_Thread_Count\":175.0,\"rebuild_price_collect_room_per_table_Avg_Value\":5.0,\"rebuild_price_handler_push_guide_price_Time\":0.019469620678079894,\"rebuild_price_collect_hotel_price_type_name_dynamic_price_powerfully_Count\":106.0,\"ThreadPool_rebuild_price_handler_qhstats_full_completedTaskCount\":0.0,\"rebuild_price_collect_hotel_price_type_name_ps_pay_on_cash_back_Count\":19.0,\"rebuild_price_collect_Count\":5958.0,\"redisService_hget2_slow_Time\":0.0,\"rebuild_price_handler_qhstats_full_protobuf_Count\":5958.0,\"rebuild_price_handler_qhstats_full_protobuf_convert_and_log_Count\":5957.0,\"qmq_listener_price_rebuild_notify_listener_Count\":5958.0,\"rebuild_price_collect_price_type_name_normal_Count\":493306.0,\"ThreadPool_rebuild_price_collect_poolSize\":4.0,\"rebuild_price_collect_min_price_ctrip_Count\":1705.0,\"rebuild_price_collect_wrapper_ota_Count\":118379.0,\"rebuild_price_collect_room_price_type_name_nearby_discount_prepay_cash_back_Count\":5363.0,\"memcached_helper_get_Count\":5958.0,\"DETAILPT_DECOMPRESS_Time\":0.4476667545478513,\"rebuild_price_collect_terminalbs_Count\":32553.0,\"redisService_hset_slow_Time\":0.0,\"qhstats-log-collector-BufferExhaustedException_Count\":30.0,\"rebuild_price_collect_hotel_price_type_name_nearby_discount_prepay_cash_back_Count\":1127.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_poolSize\":4.0,\"rebuild_price_collect_price_type_name_dynamic_cash_back_Count\":21750.0,\"pushGuidePrice_callBack_success_Count\":221.0,\"redisService_hset_result_0_Count\":112.0,\"rebuild_price_collect_price_type_name_nearby_discount_Count\":42831.0,\"DetailPT_Size_Count\":5958.0,\"redisService_operation_timeout_Count\":0.0,\"rebuild_price_collect_room_price_type_name_coin_using_with_related_Count\":11391.0,\"rebuild_price_collect_price_type_nearby_discount_Count\":54125.0,\"ThreadPool_rebuild_price_collect_activeCount\":0.0,\"KRYO_INIT_Count\":0.0,\"rebuild_price_collect_room_price_type_name_excess_reduce_Count\":0.0,\"JVM_ParNew_Time\":12.6,\"qconfig_parse_Time\":0.0,\"rebuild_price_collect_price_type_name_nearby_discount_prepay_cash_back_Count\":11294.0,\"rebuild_price_collect_price_type_name_coin_using_without_related_Count\":121.0,\"rebuild_price_collect_hotel_price_type_name_coin_using_with_related_Count\":2440.0,\"rebuild_price_collect_wrapper_ctrip_Count\":39287.0,\"rebuild_price_collect_price_entry_Count\":604288.0,\"rebuild_price_collect_room_price_type_name_dynamic_reduce_Count\":2424.0,\"pushGuidePrice_callBack_Count\":221.0,\"qconfig_parse_Count\":0.0,\"rebuild_price_collect_wrapper_elong_hotel_Count\":2252.0,\"guideHotelPriceDetail_redis_hset_Time\":0.3257918552036199,\"rebuild_price_collect_room_price_type_name_coin_using_without_related_Count\":121.0,\"ThreadPool_rebuild_price_handler_qhstats_full_poolSize\":0.0,\"redisService_hset_result_1_Count\":109.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_activeCount\":0.0,\"rebuild_price_collect_lose_tuan_ratio_Value\":36.42,\"rebuild_price_collect_room_price_type_name_normal_Count\":32674.0,\"rebuild_price_collect_price_type_name_pay_on_cash_back_Count\":0.0,\"redisService_hget2_slow_Count\":0.0,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_completedTaskCount\":1.0833047E8,\"guideHotelPriceDetail_redis_hset_Count\":221.0,\"rebuild_price_collect_price_type_dynamic_reduce_Count\":3778.0,\"DETAILPT_DECODE_Time\":2.3220879489761663,\"qmq_listener_price_rebuild_notify_listener_Time\":0.10137630077207116,\"rebuild_price_collect_hotel_price_type_name_business_user_Count\":29.0,\"ThreadPool_rebuild_price_handler_qhstats_full_activeCount\":0.0,\"rebuild_price_event_bus_post_Time\":0.41658274588788186,\"memcached_helper_get_timeout_Count\":0.0,\"rebuild_price_handler_push_guide_price_Count\":5958.0,\"rebuild_price_collect_wrapper_tuan_room_Value\":10.09,\"rebuild_price_collect_Time\":3.623195703256126,\"redisService_hset_slow_Count\":0.0,\"rebuild_price_collect_wrapper_tuan_room_Count\":3350.0,\"redisService_All_hget2_Count\":4074.0,\"JVM_freeMem_Size\":2675.0}}],\"groupMeasurements\":{\"rebuild_price_collect_price_type_nearby_discount_Count\":1900.9666666666667,\"rebuild_price_collect_wrapper_tuan_room_Value\":20.14,\"rebuild_price_collect_hotel_price_type_name_dynamic_cash_back_Count\":70.73333333333333,\"rebuild_price_handler_push_guide_price_Time\":2.2481520865355734E-8,\"qhstats_collect_log_full_protobuf_Count\":200.61666666666667,\"rebuild_price_collect_price_entry_per_table_Avg_Value\":201.0,\"rebuild_price_collect_price_type_dynamic_reduce_hotel_Count\":26.7,\"rebuild_price_collect_room_price_type_name_coin_using_without_related_Count\":4.366666666666667,\"rebuild_price_collect_price_type_dynamic_cashback_Count\":743.4833333333333,\"rebuild_price_collect_price_type_name_coin_using_with_related_Count\":656.25,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_completedTaskCount\":2.16661161E8,\"rebuild_price_event_bus_post_Time\":3.9266637294394093E-7,\"rebuild_price_collect_lose_tuan_Count\":41.21666666666667,\"rebuild_price_collect_room_price_type_name_ps_pay_on_cash_back_Count\":2.8499999999999996,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_poolSize\":8.0,\"memcached_helper_get_Time\":2.985302517844208E-6,\"rebuild_price_handler_qhstats_full_protobuf_convert_Count\":200.63333333333333,\"rebuild_price_collect_price_type_name_dynamic_reduce_Count\":128.15,\"qhstats_collect_log_full_protobuf_Time\":4.1925642131317754E-8,\"rebuild_price_collect_wrapper_elong_Count\":2123.45,\"qmq_listener_price_rebuild_notify_detail_Count\":200.61666666666667,\"rebuild_price_collect_lose_tuan_ratio_Value\":72.53,\"rebuild_price_handler_qhstats_full_protobuf_convert_and_log_Count\":200.6,\"DetailPT_Size_Origin_Time\":0.07873157836341901,\"rebuild_price_handler_stats_Count\":200.63333333333333,\"DetailPT_Size_Count\":200.63333333333333,\"rebuild_price_collect_price_type_name_normal_Count\":16329.666666666666,\"rebuild_price_collect_wrapper_ctrip_hotel_Count\":39.400000000000006,\"redisService_hset_result_0_Count\":3.533333333333333,\"redisService_hget2_Time\":1.9104383725082016E-7,\"rebuild_price_collect_hotel_price_type_name_nearby_discount_Count\":46.349999999999994,\"rebuild_price_collect_hotel_price_type_name_coin_using_with_related_Count\":82.23333333333333,\"rebuild_price_collect_room_price_type_name_business_user_Count\":3.283333333333333,\"rebuild_price_collect_min_price_ctrip_Count\":54.983333333333334,\"qhstats_collect_log_byte_size_full_protobuf_Avg_Value\":73420.0,\"rebuild_price_collect_hotel_price_type_name_business_user_Count\":0.7333333333333334,\"qmq_listener_price_rebuild_notify_listener_Count\":200.61666666666667,\"rebuild_price_collect_hotel_price_type_name_spring_festival_redbag_Count\":66.6,\"DETAILPT_DECOMPRESS_Time\":4.4351680847127056E-7,\"ThreadPool_rebuild_price_collect_poolSize\":8.0,\"rebuild_price_collect_price_type_name_nearby_discount_prepay_cash_back_Count\":396.6,\"ThreadPool_rebuild_price_collect_completedTaskCount\":2.16661828E8,\"rebuild_price_collect_wrapper_elong_hotel_Count\":76.3,\"rebuild_price_collect_room_price_type_name_nearby_discount_prepay_cash_back_Count\":183.81666666666666,\"rebuild_price_handler_push_guide_price_Count\":200.63333333333333,\"rebuild_price_collect_price_type_name_ps_pay_on_cash_back_Count\":3.166666666666667,\"rebuild_price_collect_lose_bnb_ratio_Value\":34.269999999999996,\"redisService_hset_Count\":7.166666666666666,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_taskCount\":2.16661162E8,\"rebuild_price_collect_terminalbs_Count\":1111.8333333333333,\"rebuild_price_collect_room_Count\":1128.8166666666666,\"rebuild_price_collect_price_type_name_coin_using_without_related_Count\":4.366666666666667,\"ThreadPool_rebuild_price_collect_taskCount\":2.16661828E8,\"DETAILPT_DECOMPRESS_Count\":128.5,\"rebuild_price_collect_wrapper_qta_Count\":5333.549999999999,\"rebuild_price_collect_wrapper_tuan_room_Count\":113.66666666666667,\"pushGuidePrice_callBack_Count\":7.166666666666666,\"rebuild_price_collect_wrapper_tuan_hotel_Count\":46.35,\"rebuild_price_collect_price_type_name_dynamic_cash_back_Count\":743.4833333333333,\"rebuild_price_collect_price_entry_Count\":20160.266666666666,\"DETAILPT_DECODE_Time\":2.0936920008038725E-6,\"rebuild_price_collect_price_type_name_spring_festival_redbag_Count\":294.6833333333333,\"rebuild_price_handler_qhstats_full_protobuf_Time\":2.0532422130351054E-7,\"JVM_freeMem_Size\":5623.0,\"rebuild_price_collect_hotel_price_type_name_ps_pay_on_cash_back_Count\":0.5333333333333333,\"redisService_hdel_result_Count\":135.13333333333333,\"pushGuidePrice_callBack_Time\":6.680903461863214E-5,\"rebuild_price_collect_lose_qta_Count\":283.41666666666663,\"rebuild_price_collect_price_type_name_dynamic_price_powerfully_Count\":10.183333333333334,\"push_guidePrice_Count\":7.166666666666666,\"rebuild_price_collect_room_price_type_name_coin_using_with_related_Count\":384.16666666666663,\"rebuild_price_handler_qhstats_full_protobuf_convert_Time\":1.5122707085563858E-6,\"guideHotelPriceDetail_redis_hdel_Time\":2.9839168978265013E-7,\"rebuild_price_log_get_detail_Time\":2.9941961604035266E-6,\"guideHotelPriceDetail_redis_hdel_Count\":135.13333333333333,\"rebuild_price_collect_wrapper_ctrip_Count\":1253.1666666666665,\"rebuild_price_collect_hotel_price_type_name_dynamic_price_powerfully_Count\":3.7,\"guideHotelPriceDetail_redis_hget_Count\":135.13333333333333,\"ThreadPool_rebuild_price_handler_qhstats_full_protobuf_activeCount\":1.0,\"redisService_hdel_Time\":2.487988694038815E-7,\"redisService_All_hset_Count\":7.166666666666666,\"rebuild_price_collect_wrapper_ota_hotel_Count\":87.61666666666667,\"redisService_hget2_Count\":135.13333333333333,\"rebuild_price_collect_price_type_dynamic_cashback_hotel_Count\":70.73333333333333,\"guideHotelPriceDetail_redis_hset_Count\":7.166666666666666,\"rebuild_price_collect_Time\":3.4019761411017477E-6,\"rebuild_price_handler_qhstats_full_protobuf_serialize_Time\":4.553912674127678E-7,\"rebuild_price_collect_Count\":200.63333333333333,\"rebuild_price_collect_price_type_nearby_discount_hotel_Count\":46.349999999999994,\"qconfig_get_Count\":1003.1666666666667,\"qhstats-log-collector-BufferExhaustedException_Count\":1.0333333333333332,\"rebuild_price_collect_hotel_price_type_name_nearby_discount_prepay_cash_back_Count\":39.06666666666667,\"rebuild_price_collect_room_price_type_name_nearby_discount_Count\":221.81666666666666,\"memcached_helper_get_Count\":200.63333333333333,\"rebuild_price_collect_hotel_price_type_name_normal_Count\":167.41666666666669,\"TOMCAT_\\\"http-bio-8080\\\"_maxThread_Value\":400.0,\"rebuild_price_collect_price_type_dynamic_reduce_Count\":128.15,\"rebuild_price_collect_min_price_elong_Count\":166.66666666666669,\"push_guidePriceEntry_Value\":2537.0,\"rebuild_price_handler_qhstats_full_protobuf_serialize_Count\":200.61666666666667,\"rebuild_price_event_bus_post_Count\":200.63333333333333,\"rebuild_price_collect_room_price_type_name_dynamic_cash_back_Count\":309.31666666666666,\"rebuild_price_collect_wrapper_tuan_Count\":565.2,\"DETAILPT_DECODE_Count\":200.63333333333333,\"qmq_listener_price_rebuild_notify_listener_Time\":1.0686515318254817E-7,\"rebuild_price_collect_room_price_type_name_spring_festival_redbag_Count\":294.66666666666663,\"redisService_hset_result_1_Count\":3.6333333333333333,\"JVM_Thread_Count\":5.833333333333333,\"JVM_ParNew_Count\":0.075,\"rebuild_price_collect_room_price_type_name_dynamic_reduce_with_add_price_Count\":39.65,\"rebuild_price_collect_room_price_type_name_dynamic_price_powerfully_Count\":5.65,\"TOMCAT_\\\"http-bio-8080\\\"_currentThread_Value\":20.0,\"DetailPT_Size_Time\":0.00930425675046046,\"rebuild_price_collect_hotel_price_type_name_dynamic_reduce_Count\":26.7,\"redisService_hdel_result_0_Count\":115.76666666666667,\"guideHotelPriceDetail_redis_hget_Time\":2.564227020740982E-7,\"rebuild_price_collect_hotel_price_type_name_dynamic_reduce_with_add_price_Count\":8.716666666666667,\"TOMCAT_\\\"http-bio-8080\\\"_request_Time\":8.333333333333332E-7,\"rebuild_price_collect_terminalbs_room_Count\":142.18333333333334,\"TOMCAT_\\\"http-bio-8080\\\"_request_Count\":0.1,\"TOMCAT_\\\"http-bio-8080\\\"_bytesSent_Count\":947.05,\"redisService_All_hget2_Count\":135.13333333333333,\"rebuild_price_log_get_detail_Count\":200.63333333333333,\"rebuild_price_collect_wrapper_qta_hotel_Count\":118.03333333333333,\"rebuild_price_collect_hotel_price_type_name_coin_using_without_related_Count\":2.6833333333333336,\"rebuild_price_collect_room_price_type_name_normal_Count\":1111.25,\"JVM_ParNew_Time\":1.1175E-5,\"rebuild_price_collect_price_type_name_nearby_discount_Count\":1504.3666666666668,\"redisService_hset_result_Count\":7.166666666666666,\"redisService_hdel_result_1_Count\":19.366666666666667,\"rebuild_price_collect_room_price_type_name_dynamic_reduce_Count\":82.58333333333333,\"pushGuidePrice_callBack_success_Count\":7.166666666666666,\"diff_guidePrice_redis_is_null_Count\":4.283333333333333,\"rebuild_price_collect_wrapper_ota_Count\":3894.616666666667,\"redisService_hset_Time\":2.4178917058174027E-7,\"guideHotelPriceDetail_redis_hset_Time\":3.112212864534846E-7,\"DetailPT_Size_Origin_Count\":128.5,\"rebuild_price_handler_stats_Time\":1.599631908005159E-7,\"redisService_hdel_Count\":135.13333333333333,\"diff_guidePrice_save_redis_Value\":2537.0,\"rebuild_price_collect_lose_bnb_Count\":24.383333333333333,\"rebuild_price_handler_qhstats_full_protobuf_Count\":200.63333333333333,\"rebuild_price_collect_price_type_name_dynamic_reduce_with_add_price_Count\":86.06666666666666,\"rebuild_price_collect_lose_qta_ratio_Value\":50.21,\"rebuild_price_collect_price_type_name_business_user_Count\":3.283333333333333,\"rebuild_price_collect_room_per_table_Avg_Value\":10.0},\"domainMeasurements\":{\"empty\":false}}";


    @Test
    public void testStore() throws Exception {
        Group group = new Group();
        group.setDepartment("depart.1");
        group.setName("/asdfasdf");
        group.setType(Group.Type.HTTP);

        Map<String, Double> groupMeasurements = ImmutableMap.of("rebuild_price_collect_room_per_table_Avg_Value", 10.0, "rebuild_price_collect_price.type_name_business_user_Count", 14.1);
        Table<String, String, Double> domainMeasures = HashBasedTable.create();
        domainMeasures.put("h1", "aa.123.g", 41.0);
        domainMeasures.put("h1", "rebuild_price_collect_room_per_table_Avg_Value", 10.4);
        domainMeasures.put("h2", "rebuild_price_collect_room_per_table_Avg_Value", 4.4);

        GroupMetric groupMetric = GroupMetric.builder().group(group).groupMeasurements(groupMeasurements).domainMeasurements(domainMeasures).build();

        Storer carbonStorer = ApplicationContextHelper.popBean(CarbonStorer.class);
        carbonStorer.write(groupMetric);
        Thread.sleep(10000);

    }
}
